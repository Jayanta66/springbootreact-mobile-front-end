(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},35:function(e,t,a){e.exports=a(70)},42:function(e,t,a){},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);a(36);var n=a(15),r=a.n(n),s=(a(37),a(0)),l=a.n(s),o=a(33),c=a.n(o),i=(a(42),a(2)),u=a(3),m=a(4),d=a(5),h=a(6),p=a(22),v=a.n(p),f=(a(43),a(7)),b=a(17),E=a(9),g=a(16),N=a.n(g),y=a(73),k="http://localhost:8080/api/user/",C=new y.a(JSON.parse(localStorage.getItem("currentUser"))),U=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"login",value:function(e){var t={authorization:"Basic "+btoa(e.username+":"+e.password)};return N.a.get(k+"login",{headers:t}).then(function(e){localStorage.setItem("currentUser",JSON.stringify(e.data)),C.next(e.data)})}},{key:"logOut",value:function(){return N.a.post(k+"logout",{}).then(function(e){localStorage.removeItem("currentUser"),C.next(null)})}},{key:"register",value:function(e){return N.a.post(k+"registration",JSON.stringify(e),{headers:{"Content-Type":"application/json; charset=UTF-8"}})}},{key:"findAllProducts",value:function(){return N.a.get(k+"products",{headers:{"Content-Type":"application/json; charset=UTF-8"}})}},{key:"purchaseProduct",value:function(e){return N.a.post(k+"purchase",JSON.stringify(e),{headers:{"Content-Type":"application/json; charset=UTF-8"}})}},{key:"currentUserValue",get:function(){return C.value}},{key:"currentUser",get:function(){return C.asObservable()}}]),e}()),O=function e(t,a,n,r,s,l){Object(i.a)(this,e),this.username=t,this.password=a,this.token=n,this.name=r,this.id=s,this.role=l},j=function e(t,a,n,r){Object(i.a)(this,e),this.user=t,this.product=a,this.purchaseDate=n,this.id=r},w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={products:[],errorMessage:"",infoMessage:"",currentUser:new O},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;U.currentUser.subscribe(function(t){e.setState({currentUser:t})}),this.setState({products:{loading:!0}}),U.findAllProducts().then(function(t){e.setState({products:t.data})})}},{key:"purchaseProduct",value:function(e){var t=this;if(this.state.currentUser){var a=new j(this.state.currentUser,e);U.purchaseProduct(a).then(function(e){t.setState({infoMessage:"Mission is completed."})},function(e){t.setState({errorMessage:"Unexpected error occurred."})})}else this.setState({errorMessage:"You should sign in to purchase a product"})}},{key:"detail",value:function(e){localStorage.setItem("currentProduct",JSON.stringify(e)),this.props.history.push("/detail/"+e.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.infoMessage,r=t.errorMessage;return l.a.createElement("div",{className:"col-md-12"},n&&l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("strong",null,"Successfull! ")," ",n,l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r&&l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("strong",null,"Error! ")," ",r,l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),a.loading&&l.a.createElement("em",null," Loading products..."),a.length&&l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Price"),l.a.createElement("th",{scope:"col"},"Detail"),l.a.createElement("th",{scope:"col"},"Action"))),l.a.createElement("tbody",null,a.map(function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{scope:"row"},a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,"$ "+t.price),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.detail(t)}},"Detail")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.purchaseProduct(t)}},"Purchase")))}))))}}]),t}(l.a.Component),S=(a(61),function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),U.currentUserValue&&a.props.history.push("/"),a.state={user:new O("",""),submitted:!1,loading:!1,errorMessage:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;r[a]=n,this.setState({user:r})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state.user;a.username&&a.password&&(this.setState({loading:!0}),U.login(a).then(function(e){t.props.history.push("/home")},function(e){console.log(e),t.setState({errorMessage:"Username or password is not valid.",loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.submitted,r=t.loading,s=t.errorMessage;return l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card card-container"},l.a.createElement("img",{id:"profile-img",className:"profile-img-card",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}),s&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("strong",null,"Error! ")," ",s),l.a.createElement("form",{name:"form",onSubmit:function(t){return e.handleLogin(t)}},l.a.createElement("div",{className:"form-group"+(n&&!a.username?" has-error":"")},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a.username,onChange:function(t){return e.handleChange(t)}}),n&&!a.username&&l.a.createElement("div",{className:"help-block"},"Username is required")),l.a.createElement("div",{className:"form-group"+(n&&!a.password?" has-error":"")},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:function(t){return e.handleChange(t)}}),n&&!a.password&&l.a.createElement("div",{className:"help-block"},"Password is required")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-lg btn-primary btn-block  btn-signin form-submit-button",disabled:r},"Login")))))}}]),t}(l.a.Component)),M=(a(62),function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),U.currentUserValue&&a.props.history.push("/"),a.state={user:new O("","",""),submitted:!1,loading:!1,errorMessage:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;r[a]=n,this.setState({user:r})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state.user;a.username&&a.password&&a.name&&(this.setState({loading:!0}),U.register(a).then(function(e){t.props.history.push("/login")},function(e){409===e.response.status?t.setState({errorMessage:"Username is not available",loading:!1}):t.setState({errorMessage:"Unexpected error occurred.",loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.submitted,r=t.loading,s=t.errorMessage;return l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card card-container"},l.a.createElement("img",{id:"profile-id",className:"profile-img-card",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}),s&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("strong",null,"Error! ")," ",s),l.a.createElement("form",{name:"form",onSubmit:function(t){return e.handleRegister(t)}},l.a.createElement("div",{className:"form-group"+(n&&a.name?"has-error":"")},l.a.createElement("label",{htmlFor:"name"},"Full Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",value:a.name,onChange:function(t){return e.handleChange(t)}}),n&&!a.name&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Full name is required.")),l.a.createElement("div",{className:"form-group"+(n&&a.username?"has-error":"")},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a.username,onChange:function(t){return e.handleChange(t)}}),n&&!a.username&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Username is required.")),l.a.createElement("div",{className:"form-group"+(n&&a.password?"has-error":"")},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:function(t){return e.handleChange(t)}}),n&&!a.password&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Password is required.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-signin form-submit-button",disabled:r},"Sign Up")))))}}]),t}(l.a.Component)),x=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),U.currentUserValue?(a.state={user:U.currentUserValue},a):(a.props.history.push("/"),Object(m.a)(a))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",{className:"display-4"},"Hello, ",this.state.user.name))}}]),t}(l.a.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={id:a.props.match.params.id,product:JSON.parse(localStorage.getItem("currentProduct"))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",{className:"display-4"},"Product: ",this.state.product.name),l.a.createElement("h1",{className:"display-4"},"Product Id: ",this.state.id))}}]),t}(l.a.Component),A=(a(63),new(function(){function e(){var t=this;Object(i.a)(this,e),U.currentUser.subscribe(function(e){t.headers={"Content-Type":"application/json",authorization:"Bearer "+(e?e.token:"")}})}return Object(u.a)(e,[{key:"updateUser",value:function(e){return N.a.put("http://localhost:8080/api/admin/user-update",JSON.stringify(e),{headers:this.headers})}},{key:"deleteUser",value:function(e){return N.a.post("http://localhost:8080/api/admin/user-delete",JSON.stringify(e),{headers:this.headers})}},{key:"findAllUsers",value:function(){return N.a.get("http://localhost:8080/api/admin/user-all",{headers:this.headers})}}]),e}())),P=a(13),R=a(14),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={user:a.props.user,submitted:!1,loading:!1,error:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.handleModalCloseClick;r()(this.modal).modal("show"),r()(this.modal).on("hidden.bs.modal",e)}},{key:"handleCloseClick",value:function(){var e=this.props.handleModalCloseClick;r()(this.modal).modal("hide"),e()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;r[a]=n,this.setState({user:r})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user;t.username&&t.password&&(this.setState({loading:!0}),-1!==t.id?this.updateUser(t):this.createUser(t))}},{key:"createUser",value:function(e){var t=this;U.register(e).then(function(e){console.log(e.data),t.props.onChildUpdate(e.data,!0,!1),t.handleCloseClick()},function(e){t.props.onChildUpdate(null,!1,!1),t.setState({error:"Unexpected error occurred.",loading:!1})})}},{key:"updateUser",value:function(e){var t=this;A.updateUser(e).then(function(e){console.log(e.data),t.props.onChildUpdate(e.data,!0,!0),t.handleCloseClick()},function(e){t.props.onChildUpdate(null,!1,!1),t.setState({error:"Unexpected error occurred.",loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.submitted,r=(t.loading,t.error);return l.a.createElement("div",null,a&&l.a.createElement("div",{className:"modal fade",id:"userModal",tabIndex:"-1",ref:function(t){return e.modal=t},role:"dialog","aria-labelledby":"userModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",{name:"form-user-update",onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},"User Details"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},r&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("strong",null,"Error! ")," ",r,l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"form-group"+(n&&!a.name?" has-error":"")},l.a.createElement("label",{htmlFor:"name"},"Full Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",value:a.name,onChange:function(t){return e.handleChange(t)}}),n&&!a.name&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Name is required")),l.a.createElement("div",{className:"form-group"+(n&&!a.username?" has-error":"")},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a.username,onChange:function(t){return e.handleChange(t)}}),n&&!a.username&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Username is required")),l.a.createElement("div",{className:"form-group"+(n&&!a.password?" has-error":"")},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{readOnly:-1!==a.id,type:"password",className:"form-control",name:"password",value:a.password,onChange:function(t){return e.handleChange(t)}}),n&&!a.password&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Password is required")),l.a.createElement("div",{className:"form-group"+(n&&!a.role?" has-error":"")},l.a.createElement("label",{htmlFor:"role"},"User Role"),l.a.createElement("select",{className:"form-control",name:"role",id:"role",required:!0,value:a.role,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",{value:""},"Choose"),l.a.createElement("option",{value:"ADMIN"},"ADMIN"),l.a.createElement("option",{value:"USER"},"USER")),n&&!a.role&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Role is required"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.handleCloseClick()}},"Close"),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save Changes")))))))}}]),t}(l.a.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={user:a.props.user,error:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.handleDeleteModalCloseClick;r()(this.modal).modal("show"),r()(this.modal).on("hidden.bs.modal",e)}},{key:"handleCloseClick",value:function(){var e=this.props.handleDeleteModalCloseClick;r()(this.modal).modal("hide"),e()}},{key:"deleteUser",value:function(e){var t=this;e.preventDefault();var a=this.state.user;A.deleteUser(a).then(function(e){t.props.onDeleteChildUpdate(a,!0),t.handleCloseClick()},function(e){t.props.onDeleteChildUpdate(null,!1),t.setState({error:"Unexpected error occurred.",loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user;t.error;return l.a.createElement("div",null,a&&l.a.createElement("div",{className:"modal fade",id:"deleteModal",ref:function(t){return e.modal=t},tabIndex:"-1",role:"dialog","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},"Confirmation"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"Are you sure to delete ",l.a.createElement("strong",null,a.name),"?"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.handleCloseClick()}},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.deleteUser(t)}},"I'm sure."))))))}}]),t}(l.a.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={selectedUser:new O,users:[],errorMessage:"",infoMessage:"",showModal:!1,showDeleteModal:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({users:{loading:!0}}),A.findAllUsers().then(function(t){console.log(t),e.setState({users:t.data})})}},{key:"createUserRequest",value:function(){this.setState({selectedUser:new O("","","","",-1)}),this.setState({showModal:!0})}},{key:"editUserRequest",value:function(e){console.log(e),this.setState({selectedUser:e}),this.setState({showModal:!0})}},{key:"deleteUserRequest",value:function(e){console.log(e),this.setState({selectedUser:e}),this.setState({showDeleteModal:!0})}},{key:"handleModalCloseClick",value:function(){this.setState({showModal:!1})}},{key:"handleDeleteModalCloseClick",value:function(){console.log("closed"),this.setState({showDeleteModal:!1})}},{key:"onDeleteChildUpdate",value:function(e,t){if(t){var a=this.state.users,n=a.findIndex(function(t){return t.id==e.id});-1!==n&&(a.splice(n,1),this.setState({users:a,infoMessage:"Mission is completed."}))}}},{key:"onChildUpdate",value:function(e,t,a){console.log(e),t&&(this.saveUser(e,a),this.setState({infoMessage:"Mission is completed."}))}},{key:"saveUser",value:function(e,t){t?this.updateUser(e):this.createUser(e)}},{key:"createUser",value:function(e){var t=this.state.users;t.push(e),this.setState({users:t})}},{key:"updateUser",value:function(e){var t=this.state.users,a=t.findIndex(function(t){return t.id==e.id});t[a]=e}},{key:"render",value:function(){var e=this,t=this.state,a=(t.user,t.users),n=t.infoMessage;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-md-12"},n&&l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("strong",null,"Successful!")," ",n,l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),a.loading&&l.a.createElement("em",null,"Loading users..."),this.state.users.length&&l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-xs-6"},l.a.createElement("h3",{className:"panel-title"},"All Users")),l.a.createElement("div",{className:"col col-xs-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.createUserRequest()}},"Create New User")))),l.a.createElement("div",{className:"card-body"},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"UserName"),l.a.createElement("th",{scope:"col"},"Role"),l.a.createElement("th",{scope:"col"},"Action"))),l.a.createElement("tbody",null,a.map(function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{scope:"row"},a),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.role),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.editUserRequest(t)}},l.a.createElement(P.a,{icon:R.b})),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.deleteUserRequest(t)}},l.a.createElement(P.a,{icon:R.e}))))})))))),this.state.showModal?l.a.createElement(q,{ref:"child",onChildUpdate:function(t,a,n){return e.onChildUpdate(t,a,n)},handleModalCloseClick:function(){return e.handleModalCloseClick()},user:this.state.selectedUser}):null,this.state.showDeleteModal?l.a.createElement(F,{ref:"deleteChild",onDeleteChildUpdate:function(t,a){return e.onDeleteChildUpdate(t,a)},handleDeleteModalCloseClick:function(){return e.handleDeleteModalCloseClick()},user:this.state.selectedUser}):null)}}]),t}(l.a.Component),L=function(e){function t(e){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"page-wrap d-flex flex-row align-item-center"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-12 text-center"},l.a.createElement("span",{className:"display-1 d-block"},"404"),l.a.createElement("div",{className:"mb-4 lead"},"Oops! We can't seem to find the page you are looking for.",l.a.createElement("a",{href:"/home",className:"btn btn-link"},"Back to Home"))))))}}]),t}(l.a.Component),J=function(e){function t(e){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"page-wrap d-flex flex-row align-item-center"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-12 text-center"},l.a.createElement("span",{className:"display-1 d-block"},"401"),l.a.createElement("div",{className:"mb-4 lead"},"Unauthorized! Access to this resource is denied.",l.a.createElement("a",{href:"/home",className:"btn btn-link"},"Back to Home"))))))}}]),t}(l.a.Component),T=function(e){function t(e){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.roles,n=U.currentUserValue;return n?a&&-1===a.indexOf(n.role)?l.a.createElement(f.a,{to:{pathname:"/401"}}):l.a.createElement(t,null):l.a.createElement(f.a,{to:{pathname:"/login"}})}}]),t}(l.a.Component),B="ADMIN",V="USER",H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={history:Object(E.a)(),currentUser:null,isAdmin:!1,currentLocation:window.location.pathname},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.unlisten=this.state.history.listen(function(t,a){e.setState({currentLocation:t.pathname})})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentDidMount",value:function(){var e=this;U.currentUser.subscribe(function(t){e.setState({currentUser:t,isAdmin:t&&t.role===B})})}},{key:"logout",value:function(){var e=this;U.logOut().then(function(t){e.state.history.push("/home")},function(t){e.setState({errorMessage:"Unexpected error occurred"})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentUser,n=(t.isAdmin,t.history),r=t.currentLocation;return l.a.createElement(f.c,{history:n},l.a.createElement("div",null,this.state.currentUser&&l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"https://reactjs.org"},l.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),"React"),l.a.createElement("div",{className:"navbar-nav mr-auto"},l.a.createElement(b.a,{to:"/home",className:"/home"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.a})," Home"),this.state.isAdmin&&l.a.createElement(b.a,{to:"/admin",className:"/admin"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.h})," Admin")),l.a.createElement("div",{className:"navbar-nav ml-auto"},l.a.createElement(b.a,{to:"/profile",className:"/profile"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.f})," ",a.name),l.a.createElement("a",{onClick:function(){return e.logout()},className:"nav-item nav-link"},l.a.createElement(P.a,{icon:R.d})," LogOut"))),!this.state.currentUser&&l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"https://reactjs.org"},l.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),"React"),l.a.createElement("div",{className:"navbar-nav mr-auto"},l.a.createElement(b.a,{to:"/home",className:"/home"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.a})," Home")),l.a.createElement("div",{className:"navbar-nav ml-auto"},l.a.createElement(b.a,{to:"/register",className:"/register"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.g})," Register"),l.a.createElement(b.a,{to:"/login",className:"/login"==r?"nav-item nav-link active":"nav-item nav-link"},l.a.createElement(P.a,{icon:R.c})," Login"))),l.a.createElement("div",{className:"container"},l.a.createElement(f.d,null,l.a.createElement(f.b,{exact:!0,path:"/",component:w}),l.a.createElement(f.b,{exact:!0,path:"/home",component:w}),l.a.createElement(f.b,{exact:!0,path:"/login",component:S}),l.a.createElement(f.b,{exact:!0,path:"/register",component:M}),l.a.createElement(T,{path:"/profile",roles:[B,V],component:x}),l.a.createElement(f.b,{exact:!0,path:"/detail/:id",component:D}),l.a.createElement(T,{path:"/admin",roles:[B],component:I}),l.a.createElement(f.b,{exact:!0,path:"/404",component:L}),l.a.createElement(f.b,{exact:!0,path:"/401",component:J}),l.a.createElement(f.a,{from:"*",to:"/404"})))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.69e15d5e.chunk.js.map