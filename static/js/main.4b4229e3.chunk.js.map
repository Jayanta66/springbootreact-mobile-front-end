{"version":3,"sources":["logo.svg","services/user.service.js","models/user.js","models/transaction.js","components/home/HomePage.jsx","components/login/LoginPage.jsx","components/register/RegisterPage.jsx","components/profile/ProfilePage.jsx","components/detail/DetailPage.jsx","services/admin.service.js","components/modals/UserModal.jsx","components/modals/DeleteModal.jsx","components/admin/AdminPage.jsx","components/errors/NotFound.jsx","components/errors/Unauthorized.jsx","guards/AuthGuard.jsx","models/role.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","API_URL","currentUserSubject","BehaviorSubject","JSON","parse","localStorage","getItem","value","asObservable","login","user","headers","authorization","btoa","username","password","axios","get","then","response","setItem","stringify","data","next","logOut","post","removeItem","register","findAllProducts","purchaseProduct","transaction","User","constructor","token","name","id","role","this","Transaction","product","purchaseDate","HomePage","React","Component","props","super","state","products","errorMessage","infoMessage","currentUser","componentDidMount","UserService","subscribe","setState","loading","error","detail","history","push","render","createElement","className","type","data-dismiss","aria-label","aria-hidden","length","scope","map","index","key","price","onClick","LoginPage","currentUserValue","submitted","handleChange","e","target","handleLogin","preventDefault","console","log","src","onSubmit","htmlFor","onChange","disabled","RegisterPage","handleRegister","status","ProfilePage","DetailPage","match","params","updateUser","put","deleteUser","findAllUsers","UserModal","handleModalCloseClick","$","modal","on","handleCloseClick","handleSubmit","createUser","onChildUpdate","AdminService","tabIndex","ref","aria-labelledby","readOnly","required","DeleteModal","handleDeleteModalCloseClick","onDeleteChildUpdate","AdminPage","selectedUser","users","showModal","showDeleteModal","createUserRequest","editUserRequest","deleteUserRequest","isSucceed","userList","itemIndex","findIndex","item","splice","user1","isUpdate","saveUser","FontAwesomeIcon","icon","faPen","faTrashAlt","NotFound","href","Unauthorized","AuthGuard","component","roles","indexOf","Redirect","to","pathname","Role","App","createBrowserHistory","isAdmin","currentLocation","window","location","componentWillMount","unlisten","listen","action","componentWillUnmount","logout","Router","logo","alt","Link","faHome","faUserShield","faUser","faSignOutAlt","faUserPlus","faSignInAlt","Switch","Route","exact","path","from","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4b4229e3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import axios from 'axios';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\nconst API_URL = 'http://localhost:8080/api/user/';\r\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\r\n\r\nclass UserService {\r\n\r\n  get currentUserValue() {\r\n    return currentUserSubject.value;\r\n  }\r\n\r\n  get currentUser() {\r\n    return currentUserSubject.asObservable();\r\n  }\r\n\r\n  login(user) {\r\n    //btoa: Basic64 encryption\r\n    const headers = {\r\n      authorization: 'Basic ' + btoa(user.username + ':' + user.password)\r\n    };\r\n\r\n    return axios.get(API_URL + 'login', {headers: headers})\r\n          .then(response => {\r\n            localStorage.setItem('currentUser', JSON.stringify(response.data));\r\n            currentUserSubject.next(response.data);\r\n          });\r\n  }\r\n\r\n  logOut() {\r\n    return axios.post(API_URL + \"logout\", {})\r\n            .then(response => {\r\n              localStorage.removeItem('currentUser');\r\n              currentUserSubject.next(null);\r\n            });\r\n  }\r\n\r\n  register(user) {\r\n    return axios.post(API_URL + 'registration', JSON.stringify(user),\r\n  {headers: {\"Content-Type\":\"application/json; charset=UTF-8\"}});\r\n  }\r\n\r\n  findAllProducts() {\r\n    return axios.get(API_URL + \"products\",\r\n  {headers: {\"Content-Type\":\"application/json; charset=UTF-8\"}});\r\n  }\r\n\r\n  purchaseProduct(transaction) {\r\n    return axios.post(API_URL + \"purchase\", JSON.stringify(transaction),\r\n  {headers: {\"Content-Type\":\"application/json; charset=UTF-8\"}});\r\n  }\r\n\r\n}\r\n\r\nexport default new UserService();\r\n","export class User {\r\n  constructor(username, password, token, name, id, role){\r\n    this.username = username;\r\n    this.password = password;\r\n    this.token = token;\r\n    this.name = name;\r\n    this.id = id;\r\n    this.role = role;\r\n  }\r\n}\r\n","export class Transaction {\r\n  constructor(user, product, purchaseDate, id){\r\n    this.user = user;\r\n    this.product = product;\r\n    this.purchaseDate = purchaseDate;\r\n    this.id = id;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport UserService from '../../services/user.service';\r\nimport {User} from '../../models/user';\r\nimport {Transaction} from '../../models/transaction';\r\n\r\nclass HomePage extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      products: [],\r\n      errorMessage: '',\r\n      infoMessage: '',\r\n      currentUser: new User(),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    UserService.currentUser.subscribe(data =>{\r\n      this.setState({\r\n        currentUser: data\r\n      })\r\n    });\r\n\r\n    this.setState({\r\n      products: {loading: true}\r\n    });\r\n\r\n    UserService.findAllProducts().\r\n      then(products => {\r\n        this.setState({products: products.data});\r\n      });\r\n  }\r\n\r\n  purchaseProduct(product) {\r\n    if(!this.state.currentUser){\r\n      this.setState({errorMessage: \"You should sign in to purchase a product\"});\r\n      return;\r\n    }\r\n\r\n    var transaction = new Transaction(this.state.currentUser, product);\r\n    UserService.purchaseProduct(transaction)\r\n      .then(data => {\r\n        this.setState({infoMessage: \"Mission is completed.\"});\r\n      },error => {\r\n        this.setState({errorMessage: \"Unexpected error occurred.\"});\r\n      });\r\n  }\r\n\r\n  detail(product) {\r\n    localStorage.setItem('currentProduct', JSON.stringify(product));\r\n    this.props.history.push('/detail/'+product.id);\r\n  }\r\n\r\n  render() {\r\n    const {products, infoMessage, errorMessage} = this.state;\r\n    return (\r\n      <div className=\"col-md-12\">\r\n      {infoMessage &&\r\n        <div className=\"alert alert-success\">\r\n          <strong>Successfull! </strong> {infoMessage}\r\n          <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n      }\r\n      {errorMessage &&\r\n        <div className=\"alert alert-danger\">\r\n          <strong>Error! </strong> {errorMessage}\r\n          <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n      }\r\n      {products.loading && <em> Loading products...</em>}\r\n      {products.length &&\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Price</th>\r\n              <th scope=\"col\">Detail</th>\r\n              <th scope=\"col\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product, index) =>\r\n                <tr key={product.id}>\r\n                  <th scope=\"row\">{index + 1}</th>\r\n                  <td>{product.name}</td>\r\n                  <td>{'$ ' + product.price}</td>\r\n                  <td>\r\n                    <button className=\"btn btn-info\" onClick={() => this.detail(product)}>Detail</button>\r\n                  </td>\r\n                  <td>\r\n                    <button className=\"btn btn-success\" onClick={() => this.purchaseProduct(product)}>Purchase</button>\r\n                  </td>\r\n                </tr>\r\n            )\r\n            }\r\n          </tbody>\r\n        </table>\r\n      }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport {HomePage};\r\n","import React from 'react';\r\nimport UserService from '../../services/user.service';\r\nimport {User} from '../../models/user';\r\nimport './LoginPage.css';\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      // redirect to home if already logged in\r\n      if (UserService.currentUserValue) {\r\n          this.props.history.push('/');\r\n      }\r\n\r\n      this.state = {\r\n          user: new User('',''),\r\n          submitted: false,\r\n          loading: false,\r\n          errorMessage: ''\r\n      };\r\n  }\r\n\r\n  handleChange(e){\r\n      var { name, value } = e.target;\r\n      var user = this.state.user;\r\n      user[name] = value;\r\n      this.setState({ user: user });\r\n  }\r\n\r\n  handleLogin(e) {\r\n      e.preventDefault();\r\n\r\n      this.setState({ submitted: true });\r\n      const { user } = this.state;\r\n\r\n      // stop here if form is invalid\r\n      if (!(user.username && user.password)) {\r\n          return;\r\n      }\r\n\r\n      this.setState({ loading: true });\r\n      UserService.login(user)\r\n          .then(\r\n              data => {\r\n                  this.props.history.push(\"/home\");\r\n              },\r\n              error => {\r\n                console.log(error);\r\n                this.setState({ errorMessage: \"Username or password is not valid.\", loading: false });\r\n              }\r\n          );\r\n  }\r\n\r\n\r\n  render() {\r\n      const { user, submitted, loading, errorMessage } = this.state;\r\n      return (\r\n        <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n            <img id=\"profile-img\" className=\"profile-img-card\" src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\" />\r\n            {errorMessage &&\r\n              <div className=\"alert alert-danger\" role=\"alert\">\r\n                <strong>Error! </strong> {errorMessage}\r\n              </div>\r\n            }\r\n            <form name=\"form\" onSubmit={(e) => this.handleLogin(e)}>\r\n                <div className={'form-group' + (submitted && !user.username ? ' has-error' : '')}>\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={(e) => this.handleChange(e)} />\r\n                    {submitted && !user.username &&\r\n                        <div className=\"help-block\">Username is required</div>\r\n                    }\r\n                </div>\r\n                <div className={'form-group' + (submitted && !user.password ? ' has-error' : '')}>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={(e) => this.handleChange(e)} />\r\n                    {submitted && !user.password &&\r\n                        <div className=\"help-block\">Password is required</div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-lg btn-primary btn-block  btn-signin form-submit-button\" disabled={loading}>Login</button>\r\n                </div>\r\n            </form>\r\n            </div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport { LoginPage };\r\n","import React from 'react';\r\nimport UserService from '../../services/user.service';\r\nimport {User} from '../../models/user';\r\nimport './RegisterPage.css';\r\n\r\nclass RegisterPage extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if(UserService.currentUserValue){\r\n      this.props.history.push('/');\r\n    }\r\n\r\n    this.state = {\r\n      user: new User('','',''),\r\n      submitted: false,\r\n      loading: false,\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  handleChange(e) {\r\n    var {name, value} = e.target;\r\n    var user = this.state.user;\r\n    user[name] = value;\r\n    this.setState({user: user});\r\n  }\r\n\r\n  handleRegister(e) {\r\n    e.preventDefault();\r\n    this.setState({submitted: true});\r\n    const{user} = this.state;\r\n\r\n    if(!(user.username && user.password && user.name)){\r\n      return;\r\n    }\r\n\r\n    this.setState({loading: true});\r\n    UserService.register(user)\r\n      .then(\r\n        data => {\r\n            this.props.history.push(\"/login\");\r\n        },\r\n        error => {\r\n          if(error.response.status === 409){\r\n            this.setState({\r\n              errorMessage: \"Username is not available\",\r\n              loading: false\r\n            });\r\n          }else{\r\n            this.setState({\r\n              errorMessage: \"Unexpected error occurred.\",\r\n              loading: false\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  render() {\r\n    const {user, submitted, loading, errorMessage} = this.state;\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n          <img id=\"profile-id\" className=\"profile-img-card\" src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"/>\r\n          {errorMessage &&\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n            <strong>Error! </strong> {errorMessage}\r\n            </div>\r\n          }\r\n          <form name=\"form\" onSubmit={(e) => this.handleRegister(e)}>\r\n              <div className={'form-group' + (submitted && user.name ? 'has-error': '')}>\r\n              <label htmlFor=\"name\">Full Name</label>\r\n              <input type=\"text\" className=\"form-control\" name=\"name\" value={user.name} onChange={(e)=>this.handleChange(e)}/>\r\n              {submitted && !user.name &&\r\n                <div className=\"alert alert-danger\" role=\"alert\">Full name is required.</div>\r\n              }\r\n              </div>\r\n\r\n              <div className={'form-group' + (submitted && user.username ? 'has-error': '')}>\r\n              <label htmlFor=\"username\">Username</label>\r\n              <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={(e)=>this.handleChange(e)}/>\r\n              {submitted && !user.username &&\r\n                <div className=\"alert alert-danger\" role=\"alert\">Username is required.</div>\r\n              }\r\n              </div>\r\n\r\n              <div className={'form-group' + (submitted && user.password ? 'has-error': '')}>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={(e)=>this.handleChange(e)}/>\r\n              {submitted && !user.password &&\r\n                <div className=\"alert alert-danger\" role=\"alert\">Password is required.</div>\r\n              }\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-lg btn-primary btn-block btn-signin form-submit-button\" disabled={loading}>Sign Up</button>\r\n              </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport {RegisterPage};\r\n","import React from 'react';\r\nimport UserService from '../../services/user.service';\r\n\r\nclass ProfilePage extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if(!UserService.currentUserValue){\r\n      this.props.history.push('/');\r\n      return;\r\n    }\r\n\r\n    this.state = {\r\n      user: UserService.currentUserValue\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"jumbotron\">\r\n      <h1 className=\"display-4\">Hello, {this.state.user.name}</h1>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport {ProfilePage};\r\n","import React from 'react';\r\n\r\nclass DetailPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: this.props.match.params.id,\r\n      product: JSON.parse(localStorage.getItem('currentProduct'))\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"jumbotron\">\r\n        <h1 className=\"display-4\">Product: {this.state.product.name}</h1>\r\n        <h1 className=\"display-4\">Product Id: {this.state.id}</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport {DetailPage};\r\n","import axios from 'axios';\r\nimport UserService from './user.service';\r\n\r\nconst API_URL = \"http://localhost:8080/api/admin/\";\r\nvar headers = {};\r\nclass AdminService {\r\n\r\n  constructor(){\r\n    UserService.currentUser.subscribe(data => {\r\n      this.headers = {\r\n        'Content-Type':'application/json',\r\n        'authorization':\"Bearer \" + (data ? data.token: '')\r\n      };\r\n    });\r\n  }\r\n\r\n  updateUser(user) {\r\n    return axios.put(API_URL + \"user-update\", JSON.stringify(user), {headers: this.headers});\r\n  }\r\n\r\n  deleteUser(user) {\r\n    return axios.post(API_URL + \"user-delete\", JSON.stringify(user), {headers:this.headers});\r\n  }\r\n\r\n  findAllUsers(){\r\n    return axios.get(API_URL + \"user-all\", {headers: this.headers});\r\n  }\r\n}\r\n\r\nexport default new AdminService();\r\n","import React from 'react';\r\nimport AdminService from '../../services/admin.service';\r\nimport UserService from '../../services/user.service';\r\nimport $ from 'jquery';\r\n\r\nclass UserModal extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          user: this.props.user,\r\n          submitted: false,\r\n          loading: false,\r\n          error: ''\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { handleModalCloseClick } = this.props;\r\n      $(this.modal).modal('show');\r\n      $(this.modal).on('hidden.bs.modal', handleModalCloseClick);\r\n  }\r\n\r\n  handleCloseClick() {\r\n    const { handleModalCloseClick } = this.props;\r\n    $(this.modal).modal('hide');\r\n    handleModalCloseClick();\r\n  }\r\n\r\n  handleChange(e) {\r\n      var { name, value } = e.target;\r\n      var user = this.state.user;\r\n      user[name] = value;\r\n      this.setState({ user: user });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n      e.preventDefault();\r\n\r\n      this.setState({ submitted: true });\r\n      const { user } = this.state;\r\n\r\n      // stop here if form is invalid\r\n      if (!(user.username && user.password)) {\r\n          return;\r\n      }\r\n\r\n      this.setState({ loading: true });\r\n      if(user.id !== -1){\r\n        this.updateUser(user);\r\n      }else{\r\n        this.createUser(user);\r\n      }\r\n  }\r\n\r\n  createUser(user){\r\n    UserService.register(user)\r\n        .then(\r\n            data => {\r\n                console.log(data.data);\r\n                this.props.onChildUpdate(data.data, true, false);\r\n                this.handleCloseClick();\r\n            },\r\n            error => {\r\n              this.props.onChildUpdate(null, false, false);\r\n              this.setState({ error: \"Unexpected error occurred.\", loading: false });\r\n            }\r\n        );\r\n  }\r\n\r\n  updateUser(user){\r\n    AdminService.updateUser(user)\r\n        .then(\r\n            data => {\r\n                console.log(data.data);\r\n                this.props.onChildUpdate(data.data, true, true);\r\n                this.handleCloseClick();\r\n            },\r\n            error => {\r\n              this.props.onChildUpdate(null, false, false);\r\n              this.setState({ error: \"Unexpected error occurred.\", loading: false });\r\n            }\r\n        );\r\n  }\r\n\r\n  render(){\r\n    const { user, submitted, loading, error } = this.state;\r\n    return (\r\n      <div>\r\n      {user &&\r\n      <div className=\"modal fade\" id=\"userModal\" tabIndex=\"-1\" ref={modal=> this.modal = modal} role=\"dialog\" aria-labelledby=\"userModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <form name=\"form-user-update\"  onSubmit={(e)=>this.handleSubmit(e)}>\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">User Details</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                {error &&\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <strong>Error! </strong> {error}\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                }\r\n\r\n                <div className={'form-group' + (submitted && !user.name ? ' has-error' : '')}>\r\n                    <label htmlFor=\"name\">Full Name</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"name\" value={user.name} onChange={(e)=>this.handleChange(e)} />\r\n                    {submitted && !user.name &&\r\n                        <div className=\"alert alert-danger\" role=\"alert\">Name is required</div>\r\n                    }\r\n                </div>\r\n                <div className={'form-group' + (submitted && !user.username ? ' has-error' : '')}>\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={(e)=>this.handleChange(e)} />\r\n                    {submitted && !user.username &&\r\n                        <div className=\"alert alert-danger\" role=\"alert\">Username is required</div>\r\n                    }\r\n                </div>\r\n\r\n                <div className={'form-group' + (submitted && !user.password ? ' has-error' : '')}>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input readOnly={user.id!==-1} type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={(e)=>this.handleChange(e)} />\r\n                    {submitted && !user.password &&\r\n                        <div className=\"alert alert-danger\" role=\"alert\">Password is required</div>\r\n                    }\r\n                </div>\r\n\r\n                <div className={'form-group' + (submitted && !user.role ? ' has-error' : '')}>\r\n                  <label htmlFor=\"role\">User Role</label>\r\n                  <select className=\"form-control\" name=\"role\" id=\"role\" required value={user.role} onChange={(e)=>this.handleChange(e)}>\r\n                    <option value=\"\">Choose</option>\r\n                    <option value=\"ADMIN\">ADMIN</option>\r\n                    <option value=\"USER\">USER</option>\r\n                  </select>\r\n                  {submitted && !user.role &&\r\n                      <div className=\"alert alert-danger\" role=\"alert\">Role is required</div>\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={()=>this.handleCloseClick()}>Close</button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n    </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport { UserModal };\r\n","import React from 'react';\r\nimport AdminService from '../../services/admin.service';\r\nimport UserService from '../../services/user.service';\r\nimport $ from 'jquery';\r\n\r\nclass DeleteModal extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          user: this.props.user,\r\n          error: '',\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { handleDeleteModalCloseClick } = this.props;\r\n      $(this.modal).modal('show');\r\n      $(this.modal).on('hidden.bs.modal', handleDeleteModalCloseClick);\r\n  }\r\n\r\n  handleCloseClick() {\r\n    const { handleDeleteModalCloseClick } = this.props;\r\n    $(this.modal).modal('hide');\r\n    handleDeleteModalCloseClick();\r\n  }\r\n\r\n  deleteUser(e) {\r\n      e.preventDefault();\r\n\r\n      const { user } = this.state;\r\n\r\n      AdminService.deleteUser(user)\r\n          .then(\r\n              data => {\r\n                  this.props.onDeleteChildUpdate(user, true);\r\n                  this.handleCloseClick();\r\n              },\r\n              error => {\r\n                this.props.onDeleteChildUpdate(null, false);\r\n                this.setState({ error: \"Unexpected error occurred.\", loading: false });\r\n              }\r\n          );\r\n  }\r\n\r\n  render(){\r\n    const { user, error } = this.state;\r\n    return (\r\n      <div>\r\n      {user &&\r\n        <div className=\"modal fade\" id=\"deleteModal\" ref={modal=> this.modal = modal}  tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\">Confirmation</h5>\r\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  Are you sure to delete <strong>{user.name}</strong>?\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={()=>this.handleCloseClick()}>Cancel</button>\r\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={(e)=>this.deleteUser(e)}>I'm sure.</button>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport { DeleteModal };\r\n","import React from 'react';\r\nimport './AdminPage.css';\r\nimport AdminService from '../../services/admin.service';\r\nimport UserService from '../../services/user.service';\r\nimport {User} from '../../models/user';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPen, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport {UserModal} from '../modals/UserModal';\r\nimport {DeleteModal} from '../modals/DeleteModal';\r\n\r\nclass AdminPage extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n\t\t      selectedUser: new User(),\r\n          users: [],\r\n\t\t      errorMessage: '',\r\n\t\t      infoMessage: '',\r\n          showModal: false,\r\n          showDeleteModal: false,\r\n      };\r\n\r\n      //(user, isSucceed, isUpdate)=>this.onChildUpdate(user, isSucceed, isUpdate);\r\n      //this.onChildUpdate = this.onChildUpdate.bind(this);\r\n      //this.onDeleteChildUpdate = this.onDeleteChildUpdate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n      this.setState({\r\n          users: { loading: true },\r\n      });\r\n      AdminService.findAllUsers()\r\n      .then(users => {\r\n        console.log(users);\r\n        this.setState({ users: users.data });\r\n      });\r\n  }\r\n\r\n  createUserRequest() {\r\n    this.setState({ selectedUser: new User('','','','',-1) });\r\n    this.setState({\r\n      showModal: true\r\n    });\r\n  }\r\n\r\n  editUserRequest(user) {\r\n    console.log(user);\r\n    this.setState({ selectedUser: user });\r\n    this.setState({\r\n      showModal: true\r\n    });\r\n  }\r\n\r\n  deleteUserRequest(user){\r\n    console.log(user);\r\n    this.setState({ selectedUser: user });\r\n    this.setState({\r\n      showDeleteModal: true\r\n    });\r\n  }\r\n\r\n  handleModalCloseClick() {\r\n    this.setState({\r\n      showModal: false\r\n    })\r\n  }\r\n\r\n  handleDeleteModalCloseClick() {\r\n    console.log(\"closed\");\r\n    this.setState({\r\n      showDeleteModal: false\r\n    })\r\n  }\r\n\r\n  onDeleteChildUpdate(user, isSucceed){\r\n    if(!isSucceed){\r\n      return;\r\n    }\r\n    var userList = this.state.users;\r\n    let itemIndex = userList.findIndex(item => item.id == user.id);\r\n    if(itemIndex !== -1){\r\n      userList.splice(itemIndex, 1);\r\n      this.setState({\r\n        users: userList,\r\n\t\tinfoMessage: 'Mission is completed.'\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  onChildUpdate(user1, isSucceed, isUpdate){\r\n    console.log(user1);\r\n    if(!isSucceed){\r\n      return;\r\n    }else{\r\n      this.saveUser(user1, isUpdate);\r\n      this.setState({\r\n        infoMessage: 'Mission is completed.'\r\n      });\r\n    }\r\n  }\r\n\r\n  saveUser(user, isUpdate){\r\n    if(!isUpdate){\r\n      this.createUser(user);\r\n    }else{\r\n      this.updateUser(user);\r\n    }\r\n  }\r\n\r\n  createUser(user){\r\n    var users = this.state.users;\r\n    users.push(user);\r\n    this.setState({\r\n      users: users\r\n    });\r\n  }\r\n\r\n  updateUser(user){\r\n    var userList = this.state.users;\r\n    let itemIndex = userList.findIndex(item => item.id == user.id);\r\n    userList[itemIndex] = user;\r\n  }\r\n\r\n  render() {\r\n      const { user, users, infoMessage } = this.state;\r\n      return (\r\n        <div>\r\n          <div className=\"col-md-12\">\r\n              {infoMessage &&\r\n                <div className=\"alert alert-success\">\r\n                  <strong>Successful!</strong> {infoMessage}\r\n                  <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                  </button>\r\n                </div>\r\n              }\r\n              {users.loading && <em>Loading users...</em>}\r\n              {this.state.users.length &&\r\n                <div className=\"card\">\r\n                  <div className=\"card-header\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col col-xs-6\">\r\n                        <h3 className=\"panel-title\">All Users</h3>\r\n                      </div>\r\n                      <div className=\"col col-xs-6 text-right\">\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.createUserRequest()}>Create New User</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"card-body\">\r\n                    <table className=\"table table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th scope=\"col\">UserName</th>\r\n                        <th scope=\"col\">Role</th>\r\n                        <th scope=\"col\">Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {users.map((user, index) =>\r\n                      <tr key={user.id}>\r\n                        <th scope=\"row\">{index}</th>\r\n                        <td>{user.name}</td>\r\n                        <td>{user.username}</td>\r\n                        <td>{user.role}</td>\r\n                        <td>\r\n                          <button className=\"btn btn-warning\" onClick={() => this.editUserRequest(user)}><FontAwesomeIcon icon={faPen} /></button>\r\n                          <button className=\"btn btn-danger\" onClick={() => this.deleteUserRequest(user)}><FontAwesomeIcon icon={faTrashAlt} /></button>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              }\r\n          </div>\r\n          {this.state.showModal ? (<UserModal ref=\"child\" onChildUpdate={(user, isSucceed, isUpdate)=>this.onChildUpdate(user, isSucceed, isUpdate)} handleModalCloseClick={()=>this.handleModalCloseClick()} user={this.state.selectedUser}/>) : null}\r\n          {this.state.showDeleteModal ? (<DeleteModal ref=\"deleteChild\" onDeleteChildUpdate={(user, isSucceed)=>this.onDeleteChildUpdate(user, isSucceed)} handleDeleteModalCloseClick={()=>this.handleDeleteModalCloseClick()} user={this.state.selectedUser}/>) : null}\r\n        </div>\r\n      );\r\n  }\r\n\r\n}\r\n\r\n\r\nexport { AdminPage };\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page-wrap d-flex flex-row align-item-center\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-12 text-center\">\r\n              <span className=\"display-1 d-block\">404</span>\r\n              <div className=\"mb-4 lead\">\r\n              Oops! We can't seem to find the page you are looking for.\r\n              <a href=\"/home\" className=\"btn btn-link\">Back to Home</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport {NotFound};\r\n","import React from 'react';\r\n\r\nclass Unauthorized extends React.Component{\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div className=\"page-wrap d-flex flex-row align-item-center\">\r\n          <div className=\"container\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-md-12 text-center\">\r\n                <span className=\"display-1 d-block\">401</span>\r\n                <div className=\"mb-4 lead\">\r\n                  Unauthorized! Access to this resource is denied.\r\n                  <a href=\"/home\" className=\"btn btn-link\">Back to Home</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport {Unauthorized};\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport UserService from '../services/user.service';\r\n\r\nclass AuthGuard extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const {component: Component, roles} = this.props;\r\n    const currentUser = UserService.currentUserValue;\r\n    if(!currentUser){\r\n      return (<Redirect to={{pathname: '/login'}}/>);\r\n    }\r\n\r\n    if(roles && roles.indexOf(currentUser.role) === -1){\r\n      return (<Redirect to={{pathname: '/401'}}/>);\r\n    }\r\n\r\n    return (<Component/>);\r\n  }\r\n\r\n}\r\n\r\nexport default AuthGuard;\r\n","export const Role = {\r\n  ADMIN: 'ADMIN',\r\n  USER: 'USER'\r\n}\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport {Router, Route, Link, Switch, Redirect} from 'react-router-dom';\r\nimport {createBrowserHistory} from 'history';\r\n\r\nimport {HomePage} from './components/home/HomePage';\r\nimport {LoginPage} from './components/login/LoginPage';\r\nimport {RegisterPage} from './components/register/RegisterPage';\r\nimport {ProfilePage} from './components/profile/ProfilePage';\r\nimport {DetailPage} from './components/detail/DetailPage';\r\nimport {AdminPage} from './components/admin/AdminPage';\r\nimport {NotFound} from './components/errors/NotFound';\r\nimport {Unauthorized} from './components/errors/Unauthorized';\r\n\r\nimport AuthGuard from './guards/AuthGuard';\r\nimport {Role} from './models/role';\r\n\r\nimport UserService from './services/user.service';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faUser, faUserPlus, faSignInAlt, faHome, faSignOutAlt, faUserShield} from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass App extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      history: createBrowserHistory(),\r\n      currentUser: null,\r\n      isAdmin: false,\r\n      currentLocation: window.location.pathname\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.unlisten = this.state.history.listen((location, action) => {\r\n      this.setState({currentLocation: location.pathname})\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  componentDidMount() {\r\n    UserService.currentUser.subscribe(data => {\r\n      this.setState({\r\n        currentUser: data,\r\n        isAdmin: data && data.role === Role.ADMIN\r\n      })\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    UserService.logOut()\r\n    .then(\r\n      data => {\r\n        this.state.history.push('/home');\r\n      },\r\n      error => {\r\n        this.setState({\r\n          errorMessage: \"Unexpected error occurred\"\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const {currentUser, isAdmin, history, currentLocation} = this.state;\r\n    return (\r\n        <Router history={history}>\r\n          <div>\r\n          {this.state.currentUser &&\r\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n              <a className=\"navbar-brand\" href=\"https://reactjs.org\">\r\n                <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n                React\r\n              </a>\r\n              <div className=\"navbar-nav mr-auto\">\r\n                <Link to=\"/home\" className={currentLocation == '/home' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faHome}/> Home</Link>\r\n                {this.state.isAdmin && <Link to=\"/admin\" className={currentLocation == '/admin' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faUserShield}/> Admin</Link>}\r\n              </div>\r\n\r\n              <div className=\"navbar-nav ml-auto\">\r\n                <Link to=\"/profile\" className={currentLocation == '/profile' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faUser}/> {currentUser.name}</Link>\r\n                <a onClick={()=>this.logout()} className=\"nav-item nav-link\"><FontAwesomeIcon icon={faSignOutAlt}/> LogOut</a>\r\n              </div>\r\n            </nav>\r\n          }\r\n\r\n          {!this.state.currentUser &&\r\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n              <a className=\"navbar-brand\" href=\"https://tiptops.xyz\">\r\n                <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n                Tiptops\r\n              </a>\r\n              <div className=\"navbar-nav mr-auto\">\r\n                <Link to=\"/home\" className={currentLocation == '/home' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faHome}/> Home</Link>\r\n              </div>\r\n\r\n              <div className=\"navbar-nav ml-auto\">\r\n                <Link to=\"/register\" className={currentLocation == '/register' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faUserPlus}/> Register</Link>\r\n                <Link to=\"/login\" className={currentLocation == '/login' ? 'nav-item nav-link active': 'nav-item nav-link'}><FontAwesomeIcon icon={faSignInAlt}/> Login</Link>\r\n              </div>\r\n            </nav>\r\n          }\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={HomePage}/>\r\n              <Route exact path=\"/home\" component={HomePage}/>\r\n              <Route exact path=\"/login\" component={LoginPage}/>\r\n              <Route exact path=\"/register\" component={RegisterPage}/>\r\n              <AuthGuard path=\"/profile\" roles={[Role.ADMIN, Role.USER]} component={ProfilePage}/>\r\n              <Route exact path=\"/detail/:id\" component={DetailPage}/>\r\n              <AuthGuard path=\"/admin\" roles={[Role.ADMIN]} component={AdminPage}/>\r\n              <Route exact path=\"/404\" component={NotFound}/>\r\n              <Route exact path=\"/401\" component={Unauthorized}/>\r\n              <Redirect from='*' to='/404' />\r\n            </Switch>\r\n          </div>\r\n          </div>\r\n        </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport $ from 'jquery';\r\nimport Popper from 'popper.js';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}